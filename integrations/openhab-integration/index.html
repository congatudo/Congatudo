
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../node-red/">
      
      
        <link rel="next" href="../../misc/important-files-and-folders/">
      
      
        
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>openHAB - </title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#openhab-integration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="" class="md-header__button md-logo" aria-label="" data-md-component="logo">
      
  <img src="../../img/congatudo_logo_with_name.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              openHAB
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/congatudo/Congatudo" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="" class="md-nav__button md-logo" aria-label="" data-md-component="logo">
      
  <img src="../../img/congatudo_logo_with_name.svg" alt="logo">

    </a>
    
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/congatudo/Congatudo" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    General
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    General
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../general/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../general/why-congatudo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Why Congatudo?
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../general/congatudo-or-valetudo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Congatudo or Valetudo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../general/supported-robots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Supported Robots
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../general/buying-supported-robots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Buying supported robots
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../general/donate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Donate to the project
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Installation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/robot-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Robot setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/home-assistant-installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home Assistant installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/docker-installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/standalone-installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Standalone installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Usage
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Usage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/capabilities-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Capabilities Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Companion Apps
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Companion Apps
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../companion_apps/valetudo_companion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Valetudo Companion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../companion_apps/valetudo_tray_companion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Valetudo Tray Companion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../companion_apps/valeronoi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Valeronoi
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../companion_apps/lovelace_valetudo_map_card/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lovelace Valetudo Map Card
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../companion_apps/i_cant_believe_its_not_valetudo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    I can't believe it's not Valetudo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../companion_apps/node-red-contrib-valetudo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    node-red-contrib-valetudo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../companion_apps/fun_games/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fun & Games
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mqtt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MQTT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home-assistant-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home Assistant
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../node-red/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Node-RED
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    openHAB
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    openHAB
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adding-the-robot" class="md-nav__link">
    <span class="md-ellipsis">
      
        Adding the robot
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refresh-homie-channels-after-a-valetudo-upgrade" class="md-nav__link">
    <span class="md-ellipsis">
      
        Refresh Homie channels after a Valetudo upgrade
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-custom-options-friendly-names-and-order" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setting custom options, friendly names and order
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Misc
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Misc
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/important-files-and-folders/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Important Files & Folders
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/empower-your-conga-voice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Empower your Conga voice
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/map-segments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Map Segments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/add-ssh-key/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Add SSH Key
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/hey-google-clean-my-room/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hey Google Clean My Room
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/get-area-and-time-in-ha-from-congatudo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Get area and time in Home Assistant from Congatudo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/clean-me/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Clean me
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/time-and-tank-virtual-sensors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time and Tank Virtual Sensors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/recovery-root-password/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Recovery root password
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/change-schedule/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Change schedule
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/building-and-modifying-congatudo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building and Modifying Congatudo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/congatudo-core-concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Congatudo core concepts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/mqtt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MQTT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adding-the-robot" class="md-nav__link">
    <span class="md-ellipsis">
      
        Adding the robot
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#refresh-homie-channels-after-a-valetudo-upgrade" class="md-nav__link">
    <span class="md-ellipsis">
      
        Refresh Homie channels after a Valetudo upgrade
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-custom-options-friendly-names-and-order" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setting custom options, friendly names and order
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="openhab-integration">openHAB integration</h1>
<p><a href="https://www.openhab.org/">openHAB</a> supports MQTT autodiscovery using the Homie convention. Make sure MQTT is configured
properly and that Homie autodiscovery is enabled (see <a href="../mqtt/">MQTT</a>).</p>
<div style="text-align: center;">
    <a href="https://homieiot.github.io" rel="noopener" target="_blank">
        <img src="./img/works-with-homie.svg" />
    </a>
    <br>
    <br>
</div>

<p>Unlike Home Assistant, openHAB does not come with a vacuum widget out of the box. It does, however, allow adding custom
widgets for complex devices.</p>
<p>A collection of custom widgets, rules and integrations for openHAB is available on GitHub:
<a href="https://github.com/Hypfer/Valetudo-Openhab">github.com/Hypfer/Valetudo-Openhab</a></p>
<p>This document tries to explain in enough detail how to add a Valetudo robot to openHAB with the goal of minimizing
inconsistencies between different users setups. This will make it easier to share custom integrations among the Valetudo
community.</p>
<p>{% include alert.html type="note" content="This document applies only to openHAB 3.0 and newer. openHAB 2 and 1 are out
of scope.
Homie must also be enabled in Valetudo.</p>
<p>" %}</p>
<div style="text-align: center">

<img src="./img/oh-widget-large.png"> <img src="./img/oh-widget-large-light.png">
<img src="./img/oh-widget-compact.png"> <img src="./img/oh-widget-xsmall-light.png">

</div>

<h2 id="adding-the-robot">Adding the robot</h2>
<ol>
<li>Before starting, go to Valetudo and refresh the status, navigate a few pages. This will ensure that all MQTT topics
   are correctly populated and ready for openHAB.</li>
<li>You need to install the official MQTT binding if you don't have it installed already: you can install it from
   Settings → Add-ons → Bindings -&gt; [+ button] → MQTT Binding.</li>
<li>Create an MQTT broker by navigating to Things → [+ button] → MQTT Binding → MQTT Broker, then configure the same
   broker that you configured for Valetudo.</li>
<li>Go back to Things → [+ button] → MQTT Binding, but this time, if you configured the broker correctly, you should]
   find your Valetudo instance on top, with a subtitle <code>mqtt:homie300</code>. Choose a unique name for your robot.</li>
<li>Now navigate to "Model"
   {% include alert.html type="tip" content="If you haven't configured your semantic model, you should probably give it
   a shot, it simplifies setting up devices by orders of
   magnitude. <a href="https://www.openhab.org/docs/tutorial/model.html">Docs</a>." %}</li>
<li>Select the room you want to add your robot to, then click "Create Equipment from Thing" and select your newly created
   Valetudo Homie thing. Fill in the name, etc, then scroll towards the bottom before saving.</li>
<li>Enable and configure the channels you want to import from the vacuum. You don't have to select all of them, and you
   don't need to add all the items you configure to your semantic model (to not add them to the model, set the
   \"Semantic class\" to \"None\"). The table below shows the recommended channels to enable and suggested parameters.</li>
</ol>
<p>{% include alert.html type="important" content="Do not change the \"Name\" fields if you want to use or publish
   custom widgets and integrations.</p>
<p>" %}</p>
<p>{% include alert.html type="note" content="For channel Map you need
<a href="https://github.com/Hypfer/ICantBelieveItsNotValetudo">I Can't Believe It's Not Valetudo</a> with \"mqtt.publishMapImage\" and \"mqtt.publishAsBase64\" set to \"true\". 
   " %}</p>
<table>
<thead>
<tr>
<th>Channel</th>
<th>Type</th>
<th>Category</th>
<th>Semantic class</th>
<th>Semantic Property</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dust bin</td>
<td>Switch</td>
<td></td>
<td>Point</td>
<td>Presence</td>
<td></td>
</tr>
<tr>
<td>Water tank</td>
<td>Switch</td>
<td></td>
<td>Point</td>
<td>Presence</td>
<td>Optional</td>
</tr>
<tr>
<td>Mop</td>
<td>Switch</td>
<td></td>
<td>Point</td>
<td>Presence</td>
<td>Optional</td>
</tr>
<tr>
<td>Fan speed</td>
<td>String</td>
<td>fan</td>
<td>Setpoint</td>
<td>Level</td>
<td></td>
</tr>
<tr>
<td>Water grade</td>
<td>String</td>
<td>water</td>
<td>Setpoint</td>
<td>Level</td>
<td>Optional</td>
</tr>
<tr>
<td>Status</td>
<td>String</td>
<td></td>
<td>Point</td>
<td>None</td>
<td></td>
</tr>
<tr>
<td>Status detail</td>
<td>String</td>
<td></td>
<td>Point</td>
<td>None</td>
<td></td>
</tr>
<tr>
<td>Battery level</td>
<td>Number</td>
<td>batterylevel</td>
<td>Point</td>
<td>Level</td>
<td></td>
</tr>
<tr>
<td>Battery status</td>
<td>String</td>
<td>battery</td>
<td>Point</td>
<td>None</td>
<td></td>
</tr>
<tr>
<td>Operation</td>
<td>String</td>
<td></td>
<td>Point</td>
<td>None</td>
<td></td>
</tr>
<tr>
<td>Clean segments</td>
<td>String</td>
<td></td>
<td>None</td>
<td>None</td>
<td>Optional</td>
</tr>
<tr>
<td>Locate</td>
<td>String</td>
<td></td>
<td>Point</td>
<td>None</td>
<td>Optional</td>
</tr>
<tr>
<td>Map</td>
<td>String</td>
<td></td>
<td>None</td>
<td>None</td>
<td>Change item to image type</td>
</tr>
<tr>
<td>Map segments</td>
<td>String</td>
<td></td>
<td>None</td>
<td>None</td>
<td>Optional</td>
</tr>
</tbody>
</table>
<p>{% include alert.html type="tip" content="If you need to add more channels later you can always select your vacuum
   from the semantic model, then click \"Create Points from Thing\".</p>
<p>" %}</p>
<ol>
<li>Once the vacuum is added and linked, we are ready to add the custom widget. Go to Developer Tools → Widgets →
   [+ button] and paste the widget code at the end of this page.</li>
</ol>
<p>You can test it by selecting "Set Props" on the bottom, and adding the settings. You can also change it as you wish.</p>
<h2 id="refresh-homie-channels-after-a-valetudo-upgrade">Refresh Homie channels after a Valetudo upgrade</h2>
<p>Due to a bug, openHAB will not register any new channels added after first setup, such as after an upgrade that adds
new features (see <a href="https://github.com/openhab/openhab-addons/issues/7467">openhab/openhab-addons/#7467</a>).</p>
<p>A workaround is to delete the thing and recreate it with the same name. This will not affect item links, widgets or
anything.</p>
<ol>
<li>Navigate to Settings → Things → [your robot thing].</li>
<li>In the Code tab, copy the configuration and save it for later</li>
<li>Click on Delete Thing at the bottom of the page.</li>
<li>In the things page, add a new thing → MQTT Binding</li>
<li>The vacuum won't be discovered since you just deleted it. Under "Add manually" select "Homie MQTT Device"</li>
<li>Now, copying from the configuration you saved earlier, fill in as follows:</li>
<li>UID: the last part after the last colon of the <code>UID</code> field in the config - if your UID in the config was
     <code>mqtt:homie300:mosquitto:robot</code> you have to type <code>robot</code>. Ensure that the generated "Identifier" field matches the
     old one.</li>
<li>Label: <code>label</code></li>
<li>Bridge: click on "Bridge" and select your MQTT bridge thing</li>
<li>Device ID: <code>configuration.deviceid</code></li>
<li>MQTT Base Prefix: <code>configuration.basetopic</code></li>
<li>Double check that you didn't mistype any values and save</li>
</ol>
<p>The robot thing should now appear, the old channel links should still be attached, and the new channels should be there.</p>
<p>If Valetudo decided to rename some channels (for example: water grade and fan speed properties will change from
<code>intensity</code> to <code>preset</code> after v2021.04) they won't be relinked automatically.</p>
<p>To relink them:</p>
<ol>
<li>Open your newly recreated thing</li>
<li>Navigate to the Channels tab</li>
<li>Expand the items that were unlinked</li>
<li>Select "Add link to item..."</li>
<li>Ensure that the option "Use an existing item" is checked</li>
<li>Click "Item to link" and assign it back to the previous item</li>
</ol>
<h2 id="setting-custom-options-friendly-names-and-order">Setting custom options, friendly names and order</h2>
<p>You will likely notice that options for fan speed and water grade are all lowercase and in a random order. Also, you
will see that Clean segments does not have any options.</p>
<p>This is easy to fix from settings.</p>
<ol>
<li>Go to Settings → Items</li>
<li>Find the item you want to change (fan speed/water grade/clean segments)</li>
<li>Click Add Metadata and select Command Options</li>
<li>Add your custom options in the <code>command=Friendly name</code> format, one per line.
   For example, for fan speed presets:</li>
</ol>
<p><code>low=Low
   medium=Medium
   high=High
   max=Max</code></p>
<p>For "Clean segments":</p>
<p><code>10=Kitchen
   17=Living room
   11=Bathroom
   13=Bedroom</code></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>